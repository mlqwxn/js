<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
<style>
* {margin:0;padding:0;}
#div2{margin:100px auto;width:880px;height:120px;position:relative;}
#div2 .img2{width:70px;height:70px;margin:15px 5px;position:relative;float:left;}
#div2 .img3{width:70px;height:70px;margin:15px 5px;position:relative;float:left;}
#div1{width:712px;height:108px;position:relative;overflow:hidden;background:red;float:left;}
#div1 ul{position:absolute;left:0;top:0;float:left;}
#div1 ul li{width:178px;height:108px;float:left;list-style: none;}
</style>
<script>
window.onload= function () {
    var oDiv=document.getElementById('div1');
    var oUl=oDiv.getElementsByTagName('ul')[0];
    var aLi=oUl.getElementsByTagName('li');
    var speed=-2;
    var oLeft=document.getElementsByClassName('img2')[0];
    var oRight=document.getElementsByClassName('img3')[0];
    var speedOne=oUl.offsetWidth/8;

    oUl.innerHTML=oUl.innerHTML+oUl.innerHTML;
    oUl.style.width=aLi[0].offsetWidth*aLi.length+'px';

    function move(){
        if(oUl.offsetLeft<-oUl.offsetWidth/2){
            oUl.style.left='0';
        }
        if(oUl.offsetLeft>0){
            oUl.style.left=-oUl.offsetWidth/2+'px';
        }
        oUl.style.left=oUl.offsetLeft+speed+'px';
    }
    var timer=setInterval(move,30);
    oDiv.onmouseover= oLeft.onmouseover=oRight.onmouseover=function(){
        clearInterval(timer);
    };
    oDiv.onmouseout= oLeft.onmouseout=oRight.onmouseout=function(){
        timer=setInterval(move,30)
    };
    document.getElementsByTagName('a')[0].onclick= function () {
        speed=-2;
    };
    document.getElementsByTagName('a')[1].onclick= function () {
        speed=2;
    };
    function moveOne(){
        clearInterval(timer);

        if(oUl.offsetLeft>-oUl.offsetWidth/8){
            oUl.style.left=-oUl.offsetWidth/2+'px';
        }
        oUl.style.left=oUl.offsetLeft+speedOne+'px';
    }
    oLeft.onclick=function (){

        if(oUl.offsetLeft<-oUl.offsetWidth/2+oUl.offsetWidth/8){
            oUl.style.left=0;
        }
        oUl.style.left=oUl.offsetLeft-oUl.offsetWidth/8+'px';
    };

    oRight.onclick=function(){
        speedOne=oUl.offsetWidth/8;
        moveOne();
    };

}
</script>
</head>
<body>
<a href="javascript:;">向左走</a>
<a href="javascript:;">向右走</a>
<div id="div2" >

    <img class="img2" src="img2/left.jpg"/>
    <div id="div1">

        <ul>
            <li><img src="img2/1.png"/></li>
            <li><img src="img2/2.png"/></li>
            <li><img src="img2/3.png"/></li>
            <li><img src="img2/4.png"/></li>
        </ul>

    </div>
    <img class="img3" src="img2/right.jpg"/>

</div>
</body>
</html>
